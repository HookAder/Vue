{"version":3,"sources":["components/Login/index.js","components/Admin/index.js","components/App/index.js","index.js"],"names":["Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeValue","e","_e$target","target","name","value","setState","defineProperty","handleLogin","state","username","password","message","success","loginBtnText","setTimeout","window","location","pathname","error","console","log","react_default","a","createElement","className","input","type","onChange","es_button","onClick","Component","SubMenu","Menu","MenuItemGroup","ItemGroup","Header","Layout","Sider","Content","VisibleData","userTotal","cmmodityTotal","bgColor","data","style","background","title","text","_this2","axios","get","then","res","user_length","user","length","food_length","food","catch","err","View","UserData","_this3","handleRemoveUserInfo","index","confirm","post","msg","componentDidMount","info","_this4","_this5","map","item","key","bind","AddCommodityBox","_this6","handleSubmit","_this6$state","imgSrc","price","status","isAddBox","warning","display","placeholder","width","CommodityData","_this7","handleAddCommodity","handleRemoveItem","handleEditItemValue","_this7$state$commodit","commodity","_this8","_this9","Admin_AddCommodityBox","src","alt","float","height","Admin","layout","menu","defaultSelectedKeys","defaultOpenKeys","mode","icon","Item","react_router_dom","to","react_router","path","component","BrowserUrlNavLinkRoute","exact","App","App_BrowserUrlNavLinkRoute","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.956fd878.chunk.js","sourcesContent":["import React,{ Component } from 'react';\r\nimport { Input,Button,message } from 'antd';\r\n\r\nimport './style.css';\r\n\r\nclass Login extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      loginBtnText:'登录',\r\n      username:'',\r\n      password:''\r\n    };\r\n  }\r\n  handleChangeValue = e =>{\r\n    const { name,value } = e.target;\r\n    this.setState({\r\n      [name]:[value]\r\n    })\r\n  }\r\n  // 登录事件\r\n  handleLogin = () =>{\r\n    // 登录成功,跳转到管理界面\r\n    if(this.state.username[0] === 'admin' && this.state.password[0] === 'admin'){\r\n      message.success('登录成功!');\r\n      this.setState({\r\n        loginBtnText:'登录中...'\r\n      })\r\n      // 延迟宜1.5秒后跳转.\r\n      setTimeout(() => {\r\n        window.location.pathname = 'app/admin/visible_data';\r\n      },1500)\r\n    }else{\r\n      message.error('账号或密码错误!');\r\n    }\r\n    console.log(this.state);\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"login-container\">\r\n        <div className=\"login-header\">\r\n          <p>欢迎登录--管理系统</p>\r\n        </div>\r\n        {/* 登录的表单 */}\r\n        <div className=\"login-form\">\r\n          <Input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChangeValue} />\r\n          <Input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChangeValue} /><br/>\r\n          <Button type=\"primary\" onClick={this.handleLogin}>{this.state.loginBtnText}</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;","import React, { Component } from 'react'\r\nimport { Layout, Menu, Icon, Button, Input, message } from 'antd';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport './style.css';\r\n\r\nconst SubMenu = Menu.SubMenu;\r\nconst MenuItemGroup = Menu.ItemGroup;\r\n\r\nconst {\r\n  Header,\r\n  Sider,\r\n  Content\r\n} = Layout;\r\n\r\n\r\n// 可视化数据组件\r\nclass VisibleData extends Component {\r\n  static View(props) {\r\n    // bgColor - 背景颜色\r\n    // data    - 数据对象\r\n    const { bgColor, data } = props;\r\n    return (\r\n      <div className=\"visible-view\" style={{ background: bgColor }}>\r\n        <span>{data.title}</span>\r\n        <h1>{data.text}</h1>\r\n      </div>\r\n    );\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //用户总数\r\n      userTotal: 0,\r\n      // 商品总数\r\n      cmmodityTotal: 0\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    axios.get('/admin/get_user_food')\r\n      .then(res => {\r\n        const user_length = res.data.user.length;\r\n        const food_length = res.data.food.length;\r\n        this.setState({\r\n          userTotal: user_length,\r\n          cmmodityTotal: food_length\r\n        })\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"visible-data\">\r\n        <VisibleData.View\r\n          bgColor=\"#66cdba\"\r\n          data={{\r\n            title: '用户总数',\r\n            text: this.state.userTotal\r\n          }}\r\n        ></VisibleData.View>\r\n        <VisibleData.View\r\n          bgColor=\"#78a0e8\"\r\n          data={{\r\n            title: '商品总数',\r\n            text: this.state.cmmodityTotal\r\n          }}\r\n        ></VisibleData.View>\r\n        <VisibleData.View\r\n          bgColor=\"#dcb6b6\"\r\n          data={{\r\n            title: '暂无',\r\n            text: ''\r\n          }}\r\n        ></VisibleData.View>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n// 用户数据组件\r\nclass UserData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: []\r\n    }\r\n  }\r\n  // 获取ajax数据\r\n  componentDidMount() {\r\n    axios.get('/admin/get_user_food/')\r\n      .then(res => {\r\n        this.setState({\r\n          user: res.data.user\r\n        })\r\n      })\r\n      .catch(err => {\r\n        message.error('更新数据失败!');\r\n      })\r\n  }\r\n  // 删除单个用户数据\r\n  handleRemoveUserInfo = (index) => {\r\n    const username = this.state.user[index].username;\r\n    if (window.confirm('是否要删除该用户?')) {\r\n      axios.post('/admin/remove_user/', { username })\r\n        .then(res => {\r\n          message.success(res.data.msg);\r\n          this.componentDidMount();\r\n        })\r\n        .catch(err => {\r\n          throw err;\r\n        })\r\n    } else {\r\n      message.info('成功取消该操作');\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"user-data\">\r\n        <table className=\"table table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USERNAME</th>\r\n              <th>PASSWORD</th>\r\n              <th>OPTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              this.state.user.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{index}</td>\r\n                  <td>{item.username}</td>\r\n                  <td>{item.password}</td>\r\n                  <td>\r\n                    <Button type=\"primary\" onClick={this.handleRemoveUserInfo.bind(this, index)}>删除</Button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n// 增加框组件\r\nclass AddCommodityBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAddBox: true,\r\n      title: '',\r\n      imgSrc: '',\r\n      price: '',\r\n      info: ''\r\n    };\r\n  }\r\n  handleChangeValue = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n  // 提交商品事件\r\n  handleSubmit = () => {\r\n    const { title, imgSrc, price, info } = this.state;\r\n    if (!title || !imgSrc || !price || !info) {\r\n      message.warning('请确认提交信息完整!');\r\n      return;\r\n    }\r\n    axios.post('/admin/add_food', { title, imgSrc, price, info })\r\n      .then(res => {\r\n        if (res.data.status === 200) {\r\n          // 成功了\r\n          message.success(res.data.msg);\r\n          this.setState({\r\n            isAddBox: !this.state.isAddBox\r\n          })\r\n        } else {\r\n          message.success(res.data.msg);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"add_box\" style={{ display: this.state.isAddBox ? 'block' : 'none' }}>\r\n        <div className=\"add_box_title\">\r\n          <span>添加</span>\r\n        </div>\r\n        <div className=\"add_box_form\">\r\n          <label>\r\n            <Input type=\"text\" name=\"title\" onChange={this.handleChangeValue} placeholder=\"商品名\" />\r\n          </label>\r\n          <label>\r\n            <Input type=\"text\" name=\"imgSrc\" onChange={this.handleChangeValue} placeholder=\"图片地址\" />\r\n          </label>\r\n          <label>\r\n            <Input type=\"number\" name=\"price\" onChange={this.handleChangeValue} placeholder=\"价格\" />\r\n          </label>\r\n          <label>\r\n            <Input type=\"text\" name=\"info\" onChange={this.handleChangeValue} placeholder=\"商品介绍\" />\r\n          </label>\r\n        </div>\r\n        <Button type=\"primary\" onClick={this.handleSubmit} style={{ width: 100 + '%' }}>提交</Button>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n// 商品数据组件\r\nclass CommodityData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // 商品数组\r\n      commodity: [],\r\n      // 用于控制是否显示增加框组件\r\n      isAddBox: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    axios.get('/admin/get_user_food')\r\n      .then(res => {\r\n        this.setState({\r\n          commodity: res.data.food\r\n        })\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      })\r\n  }\r\n  // 增加一条商品\r\n  handleAddCommodity = () => {\r\n    this.setState({\r\n      isAddBox: !this.state.isAddBox\r\n    })\r\n  }\r\n  // 删除单个商品数据\r\n  handleRemoveItem = (title) => {\r\n    if (window.confirm('是否删除该商品数据?')) {\r\n      axios.post('/admin/remove_food', { title })\r\n        .then(res => {\r\n          if (res.data.status === 200) {\r\n            message.success(res.data.msg);\r\n            this.componentDidMount();\r\n          } else {\r\n            message.error(res.data.msg);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          throw err;\r\n        })\r\n    }\r\n  }\r\n  // 编辑事件\r\n  handleEditItemValue = index => {\r\n    const { title,imgSrc,price,info } = this.state.commodity[index];\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"commodity-data\">\r\n        <Button type=\"primary\" onClick={this.handleAddCommodity}>添加</Button>\r\n        {this.state.isAddBox ? <AddCommodityBox /> : null}\r\n        <table className=\"table table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>TITLE</th>\r\n              <th>IMG</th>\r\n              <th>PRICE</th>\r\n              <th>INFO</th>\r\n              <th>OPTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              this.state.commodity.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{index}</td>\r\n                  <td>{item.title}</td>\r\n                  <td>\r\n                    <img src={item.imgSrc} alt=\"数据加载失败\" style={{\r\n                      float: 'left',\r\n                      width: 80,\r\n                      height: 60\r\n                    }} />\r\n                  </td>\r\n                  <td>￥{item.price}</td>\r\n                  <td>{item.info}</td>\r\n                  <td>\r\n                    <Button type=\"primary\" onClick={this.handleRemoveItem.bind(this, item.title)}>删除</Button>\r\n                    {/* <Button type=\"danger\" onClick={this.handleEditItemValue.bind(this,index)} style={{ marginLeft: 10 }}>编辑🖊</Button> */}\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nclass Admin extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"admin\">\r\n        <Layout>\r\n          <Header>\r\n            <h1 className=\"admin-title\">后台管理</h1>\r\n          </Header>\r\n          <Layout>\r\n            <Sider >\r\n              <Menu\r\n                className=\"layout-2\"\r\n                style={{ width: 256 }}\r\n                defaultSelectedKeys={['1']}\r\n                defaultOpenKeys={['sub1']}\r\n                mode=\"inline\"\r\n              >\r\n                <SubMenu key=\"sub1\" title={<span><Icon type=\"mail\" /><span>导航</span></span>}>\r\n                  <MenuItemGroup key=\"g1\" title=\"首页\">\r\n                    <Menu.Item key=\"1\">\r\n                      <Link to=\"/app/admin/visible_data\">可视化数据</Link>\r\n                    </Menu.Item>\r\n                  </MenuItemGroup>\r\n                  <MenuItemGroup key=\"g2\" title=\"数据\">\r\n                    <Menu.Item key=\"2\">\r\n                      <Link to=\"/app/admin/user_data\">用户数据</Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"3\">\r\n                      <Link to=\"/app/admin/commodity_data\">商品数据</Link>\r\n                    </Menu.Item>\r\n                  </MenuItemGroup>\r\n                </SubMenu>\r\n              </Menu>\r\n            </Sider>\r\n            <Content className=\"admin-content\">\r\n              <Route path=\"/app/admin/visible_data\" component={VisibleData} />\r\n              <Route path=\"/app/admin/user_data\" component={UserData} />\r\n              <Route path=\"/app/admin/commodity_data\" component={CommodityData} />\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Admin;","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\n// 登录组件\nimport Login from '../Login';\nimport Admin from '../Admin';\n\nconst BrowserUrlNavLinkRoute = () => (\n  <div>\n    <Route path=\"/\" exact component={Login} />\n    <Route path=\"/app/admin\" component={Admin} />\n  </div>\n);\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <BrowserUrlNavLinkRoute />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { BrowserRouter,Route } from 'react-router-dom';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route path=\"/\" component={App} />\n  </BrowserRouter>\n  , document.getElementById('root')\n);"],"sourceRoot":""}