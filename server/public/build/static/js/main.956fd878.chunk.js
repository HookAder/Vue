(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(208)},125:function(e,t,a){},190:function(e,t,a){},205:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(7),r=a.n(c),i=a(23),o=a(18),m=a(25),s=a(24),u=a(26),d=a(39),h=a(60),E=a(212),p=a(210),b=a(65),f=(a(125),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).handleChangeValue=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(h.a)({},n,[l]))},a.handleLogin=function(){"admin"===a.state.username[0]&&"admin"===a.state.password[0]?(E.a.success("\u767b\u5f55\u6210\u529f!"),a.setState({loginBtnText:"\u767b\u5f55\u4e2d..."}),setTimeout(function(){window.location.pathname="app/admin/visible_data"},1500)):E.a.error("\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef!"),console.log(a.state)},a.state={loginBtnText:"\u767b\u5f55",username:"",password:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"login-header"},l.a.createElement("p",null,"\u6b22\u8fce\u767b\u5f55--\u7ba1\u7406\u7cfb\u7edf")),l.a.createElement("div",{className:"login-form"},l.a.createElement(p.a,{type:"text",name:"username",value:this.state.username,onChange:this.handleChangeValue}),l.a.createElement(p.a,{type:"password",name:"password",value:this.state.password,onChange:this.handleChangeValue}),l.a.createElement("br",null),l.a.createElement(b.a,{type:"primary",onClick:this.handleLogin},this.state.loginBtnText)))}}]),t}(n.Component)),y=a(209),v=a(211),g=a(11),O=a(38),j=a(42),C=a.n(j),w=(a(190),y.a.SubMenu),k=y.a.ItemGroup,x=v.a.Header,S=v.a.Sider,_=v.a.Content,N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).state={userTotal:0,cmmodityTotal:0},a}return Object(u.a)(t,e),Object(o.a)(t,null,[{key:"View",value:function(e){var t=e.bgColor,a=e.data;return l.a.createElement("div",{className:"visible-view",style:{background:t}},l.a.createElement("span",null,a.title),l.a.createElement("h1",null,a.text))}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/admin/get_user_food").then(function(t){var a=t.data.user.length,n=t.data.food.length;e.setState({userTotal:a,cmmodityTotal:n})}).catch(function(e){throw e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"visible-data"},l.a.createElement(t.View,{bgColor:"#66cdba",data:{title:"\u7528\u6237\u603b\u6570",text:this.state.userTotal}}),l.a.createElement(t.View,{bgColor:"#78a0e8",data:{title:"\u5546\u54c1\u603b\u6570",text:this.state.cmmodityTotal}}),l.a.createElement(t.View,{bgColor:"#dcb6b6",data:{title:"\u6682\u65e0",text:""}}))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).handleRemoveUserInfo=function(e){var t=a.state.user[e].username;window.confirm("\u662f\u5426\u8981\u5220\u9664\u8be5\u7528\u6237?")?C.a.post("/admin/remove_user/",{username:t}).then(function(e){E.a.success(e.data.msg),a.componentDidMount()}).catch(function(e){throw e}):E.a.info("\u6210\u529f\u53d6\u6d88\u8be5\u64cd\u4f5c")},a.state={user:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/admin/get_user_food/").then(function(t){e.setState({user:t.data.user})}).catch(function(e){E.a.error("\u66f4\u65b0\u6570\u636e\u5931\u8d25!")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"user-data"},l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"USERNAME"),l.a.createElement("th",null,"PASSWORD"),l.a.createElement("th",null,"OPTIONS"))),l.a.createElement("tbody",null,this.state.user.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.password),l.a.createElement("td",null,l.a.createElement(b.a,{type:"primary",onClick:e.handleRemoveUserInfo.bind(e,a)},"\u5220\u9664")))}))))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).handleChangeValue=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(h.a)({},n,l))},a.handleSubmit=function(){var e=a.state,t=e.title,n=e.imgSrc,l=e.price,c=e.info;t&&n&&l&&c?C.a.post("/admin/add_food",{title:t,imgSrc:n,price:l,info:c}).then(function(e){200===e.data.status?(E.a.success(e.data.msg),a.setState({isAddBox:!a.state.isAddBox})):E.a.success(e.data.msg)}).catch(function(e){throw e}):E.a.warning("\u8bf7\u786e\u8ba4\u63d0\u4ea4\u4fe1\u606f\u5b8c\u6574!")},a.state={isAddBox:!0,title:"",imgSrc:"",price:"",info:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"add_box",style:{display:this.state.isAddBox?"block":"none"}},l.a.createElement("div",{className:"add_box_title"},l.a.createElement("span",null,"\u6dfb\u52a0")),l.a.createElement("div",{className:"add_box_form"},l.a.createElement("label",null,l.a.createElement(p.a,{type:"text",name:"title",onChange:this.handleChangeValue,placeholder:"\u5546\u54c1\u540d"})),l.a.createElement("label",null,l.a.createElement(p.a,{type:"text",name:"imgSrc",onChange:this.handleChangeValue,placeholder:"\u56fe\u7247\u5730\u5740"})),l.a.createElement("label",null,l.a.createElement(p.a,{type:"number",name:"price",onChange:this.handleChangeValue,placeholder:"\u4ef7\u683c"})),l.a.createElement("label",null,l.a.createElement(p.a,{type:"text",name:"info",onChange:this.handleChangeValue,placeholder:"\u5546\u54c1\u4ecb\u7ecd"}))),l.a.createElement(b.a,{type:"primary",onClick:this.handleSubmit,style:{width:"100%"}},"\u63d0\u4ea4"))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).handleAddCommodity=function(){a.setState({isAddBox:!a.state.isAddBox})},a.handleRemoveItem=function(e){window.confirm("\u662f\u5426\u5220\u9664\u8be5\u5546\u54c1\u6570\u636e?")&&C.a.post("/admin/remove_food",{title:e}).then(function(e){200===e.data.status?(E.a.success(e.data.msg),a.componentDidMount()):E.a.error(e.data.msg)}).catch(function(e){throw e})},a.handleEditItemValue=function(e){var t=a.state.commodity[e];t.title,t.imgSrc,t.price,t.info},a.state={commodity:[],isAddBox:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/admin/get_user_food").then(function(t){e.setState({commodity:t.data.food})}).catch(function(e){throw e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"commodity-data"},l.a.createElement(b.a,{type:"primary",onClick:this.handleAddCommodity},"\u6dfb\u52a0"),this.state.isAddBox?l.a.createElement(T,null):null,l.a.createElement("table",{className:"table table-hover table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"TITLE"),l.a.createElement("th",null,"IMG"),l.a.createElement("th",null,"PRICE"),l.a.createElement("th",null,"INFO"),l.a.createElement("th",null,"OPTIONS"))),l.a.createElement("tbody",null,this.state.commodity.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a),l.a.createElement("td",null,t.title),l.a.createElement("td",null,l.a.createElement("img",{src:t.imgSrc,alt:"\u6570\u636e\u52a0\u8f7d\u5931\u8d25",style:{float:"left",width:80,height:60}})),l.a.createElement("td",null,"\uffe5",t.price),l.a.createElement("td",null,t.info),l.a.createElement("td",null,l.a.createElement(b.a,{type:"primary",onClick:e.handleRemoveItem.bind(e,t.title)},"\u5220\u9664")))}))))}}]),t}(n.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"admin"},l.a.createElement(v.a,null,l.a.createElement(x,null,l.a.createElement("h1",{className:"admin-title"},"\u540e\u53f0\u7ba1\u7406")),l.a.createElement(v.a,null,l.a.createElement(S,null,l.a.createElement(y.a,{className:"layout-2",style:{width:256},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline"},l.a.createElement(w,{key:"sub1",title:l.a.createElement("span",null,l.a.createElement(g.a,{type:"mail"}),l.a.createElement("span",null,"\u5bfc\u822a"))},l.a.createElement(k,{key:"g1",title:"\u9996\u9875"},l.a.createElement(y.a.Item,{key:"1"},l.a.createElement(O.b,{to:"/app/admin/visible_data"},"\u53ef\u89c6\u5316\u6570\u636e"))),l.a.createElement(k,{key:"g2",title:"\u6570\u636e"},l.a.createElement(y.a.Item,{key:"2"},l.a.createElement(O.b,{to:"/app/admin/user_data"},"\u7528\u6237\u6570\u636e")),l.a.createElement(y.a.Item,{key:"3"},l.a.createElement(O.b,{to:"/app/admin/commodity_data"},"\u5546\u54c1\u6570\u636e")))))),l.a.createElement(_,{className:"admin-content"},l.a.createElement(d.a,{path:"/app/admin/visible_data",component:N}),l.a.createElement(d.a,{path:"/app/admin/user_data",component:I}),l.a.createElement(d.a,{path:"/app/admin/commodity_data",component:V})))))}}]),t}(n.Component),B=function(){return l.a.createElement("div",null,l.a.createElement(d.a,{path:"/",exact:!0,component:f}),l.a.createElement(d.a,{path:"/app/admin",component:A}))},D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(B,null))}}]),t}(n.Component);a(205),a(206),a(207);r.a.render(l.a.createElement(O.a,null,l.a.createElement(d.a,{path:"/",component:D})),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.956fd878.chunk.js.map